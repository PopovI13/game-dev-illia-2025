<!DOCTYPE html>
<html>
<head>
<title>Level 1</title>

<style>
/* ===== HUD (buttons stay fixed) ===== */
#hud {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 80px;
    background: rgba(0,0,0,0.6);
    padding: 10px;
    z-index: 1000;
}

/* ===== GAME AREA ===== */
#gameArea {
    position: relative;
    margin-top: 90px; /* push game below HUD */
    width: 100%;
    height: 500px;
    overflow: hidden;
}
</style>

</head>

<body id="myBody"
      style="background-repeat:repeat; background-size:80%;"
      background="back3.png">

<h6>Version 0.0.1</h6>

<!-- ===== HUD ===== -->
<div id="hud">
    <input type="button" value="Auto Background Left" onclick="
        clearInterval(myClock);
        myClock = setInterval(function() {
            myGlobalX -= 5;
            document.getElementById('myBody').style.backgroundPosition =
                myGlobalX + 'px 0px';
        }, 100);
    ">

    <input type="button" value="Move Right" onclick="
        let obj = document.getElementById('car1');
        let newX = parseInt(obj.style.left) + 10;
        obj.style.left = newX + 'px';
        myCheckHit();
    ">
</div>

<!-- ===== GAME AREA ===== -->
<div id="gameArea">

<img id="car1"
     src="car1.png"
     style="position:absolute; width:100px; height:80px; top:200px; left:50px;">

<img id="sun1"
     src="sun1.png"
     style="position:absolute; width:100px; height:80px; top:200px; left:250px;">

</div>

<script>
// ===== GLOBALS =====
let myGlobalX = 0;
let myClock;

// ===== COLLISION FUNCTION =====
function myHitOther(id1, id2) {

    const A = document.getElementById(id1).style;
    const B = document.getElementById(id2).style;

    const left1   = parseInt(A.left);
    const right1  = left1 + parseInt(A.width);
    const top1    = parseInt(A.top);
    const bottom1 = top1 + parseInt(A.height);

    const left2   = parseInt(B.left);
    const right2  = left2 + parseInt(B.width);
    const top2    = parseInt(B.top);
    const bottom2 = top2 + parseInt(B.height);

    return (
        right1 >= left2 &&
        bottom1 >= top2 &&
        left1 <= right2 &&
        top1 <= bottom2
    );
}



// ===== CHECK FOR WIN =====
function myCheckHit() {

    if (myHitOther("car1.png", "sun1.png")) {

        alert("YOU WIN!");

        // optional: reset positions
        document.getElementById("car1.png").style.left = "50px";
        document.getElementById("sun1.png").style.left = "250px";

        // go to next level
        location = "t2-Final-Project-illia.html";
    }
}

// ===== SUN AI =====
function moveSun() {

    let car = document.getElementById("car1");
    let sun = document.getElementById("sun1");

    let carX = parseInt(car.style.left);
    let sunX = parseInt(sun.style.left);

    let minDistance = 120;
    let maxDistance = 300;
    let speed = 3;

    let distance = sunX - carX;

    if (distance < minDistance) {
        sun.style.left = (sunX + speed) + "px";
    }

    if (distance > maxDistance) {
        sun.style.left = (carX + maxDistance) + "px";
    }
}

setInterval(moveSun, 50);
</script>

</body>
</html>
