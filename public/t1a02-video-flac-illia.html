<!DOCTYPE html>
<html>
<head>
  <title>t1a02-video-flac-illia.html</title>
  <script>
    // History array to store past calculations
    let history = [];

    function mySquareFunction() {
      let myIn1 = parseFloat(document.getElementById('myNum01').value);

      if (isNaN(myIn1) || myIn1 < 0) {
        document.getElementById('mySpan01').innerHTML = "Please enter a valid positive number.";
        return;
      }

      let resultObject = {
        number: myIn1,
        square: myIn1 * myIn1
      };

      let squaresArray = [];
      let limit = Math.min(10, Math.floor(myIn1));
      for (let i = 1; i <= limit; i++) {
        squaresArray.push(i * i);
      }

      let outputMsg = `${resultObject.number} squared = ${resultObject.square}<br>`;
      outputMsg += `Squares from 1 to ${limit}: ${squaresArray.join(', ')}`;

      // Add to history
      history.push(outputMsg);

      // Display current output
      document.getElementById('mySpan01').innerHTML = outputMsg;

      // Display history (all past outputs)
      document.getElementById('historySpan').innerHTML = "<strong>History:</strong><br>" + history.join('<br><br>');
    }
  </script>
</head>
<body>

  <h2 style="text-align:center;">t1a02-video-flac-illia.html</h2>

  Input: <input id="myNum01" type="number" value="4"><br>

  Event: <input type="button" value="myEvent squares" onclick="mySquareFunction()"><br>

  Output: <span id="mySpan01">...</span><br><br>

  <div id="historySpan" style="border-top:1px solid #ccc; padding-top:10px; margin-top:20px;">
    <strong>History:</strong><br>
    No history yet.
  </div>

</body>
</html>
