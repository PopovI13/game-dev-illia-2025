<!DOCTYPE html>
<html>
<h6> Version 0.0.1 </h6>

<body id="myBody" style="background-repeat:repeat; background-size:80%;" background="myBackground01.jpg">

<h1 align="center">t2a25-game-template-fred.html</h1>
<br><br><br><br>

<script>
// ===== GLOBALS =====
let myGlobalX = 0;
let myClock;


// ===== COLLISION FUNCTION =====
function myHitOther(id1, id2) {

    const A = document.getElementById(id1).style;
    const B = document.getElementById(id2).style;

    const left1   = parseInt(A.left);
    const right1  = left1 + parseInt(A.width);
    const top1    = parseInt(A.top);
    const bottom1 = top1 + parseInt(A.height);

    const left2   = parseInt(B.left);
    const right2  = left2 + parseInt(B.width);
    const top2    = parseInt(B.top);
    const bottom2 = top2 + parseInt(B.height);

    return (
        right1 >= left2 &&
        bottom1 >= top2 &&
        left1 <= right2 &&
        top1 <= bottom2
    );
}


// ===== CHECK FOR COLLISIONS =====
function myCheckHit() {

    if (myHitOther("myImg01", "myImg02")) {

        alert("YOU LOSE!");

        // reset player position
        document.getElementById("myImg01").style.left = "20px";

        // go to next level
        location = "t2a13-keydown.html";
    }
}
</script>


<!-- PLAYER -->
<img id="myImg01"
     style="position:absolute; width:100px; height:80px; top:0px; left:50px;"
     src="myImage01.jpg">

<!-- OBSTACLE -->
<img id="myImg02"
     style="position:absolute; width:100px; height:80px; top:0px; left:250px;"
     src="myImage02.jpg">


<!-- MOVE BACKGROUND -->
<input type="button" value="Auto Background Left" onclick="{
    clearInterval(myClock);
    myClock = setInterval(function() {
        myGlobalX -= 5;
        document.getElementById('myBody').style.backgroundPosition = myGlobalX + 'px 0px';
    }, 100);
}">


<!-- MOVE PLAYER -->
<input type="button"
       value="Image Right Fast Button"
       onTouchStart='{this.click(); event.preventDefault();}'
       onclick="{
          let obj = document.getElementById('myImg01');
          obj.style.left = (parseInt(obj.style.left) + 10) + 'px';
          myCheckHit();
}">

</body>
</html>
